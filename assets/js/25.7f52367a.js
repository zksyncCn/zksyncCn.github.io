(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{434:function(t,s,a){"use strict";a.r(s);var n=a(32),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"æœ¬åœ°æµ‹è¯•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬åœ°æµ‹è¯•"}},[t._v("#")]),t._v(" æœ¬åœ°æµ‹è¯•")]),t._v(" "),a("p",[t._v("æœ‰æ—¶å‡ºäºç½‘ç»œå»¶è¿Ÿæˆ–è´¹ç”¨åŸå› ï¼Œéœ€è¦åœ¨æœ¬åœ°ç¯å¢ƒä¸­æµ‹è¯•åˆçº¦ã€‚")]),t._v(" "),a("p",[t._v("zkSync å›¢é˜Ÿä¸ºæ­¤æä¾›äº†ä¸€ä¸ª dockerized æœ¬åœ°è®¾ç½®ã€‚")]),t._v(" "),a("h2",{attrs:{id:"å‡†å¤‡å·¥ä½œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‡†å¤‡å·¥ä½œ"}},[t._v("#")]),t._v(" å‡†å¤‡å·¥ä½œ")]),t._v(" "),a("p",[t._v("æ‚¨éœ€è¦åœ¨è®¡ç®—æœºä¸Šå®‰è£… "),a("code",[t._v("Docker")]),t._v(" å’Œ "),a("code",[t._v("docker-compose")]),t._v("ã€‚ åœ¨æ­¤å¤„æ‰¾åˆ° "),a("a",{attrs:{href:"https://docs.docker.com/get-docker/",target:"_blank",rel:"noopener noreferrer"}},[t._v("å®‰è£…æŒ‡å—"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("æœ¬æŒ‡å—å‡å®šæ‚¨ç†Ÿæ‚‰ "),a("code",[t._v("zkSync Hardhat")]),t._v(" æ’ä»¶ã€‚ å¦‚æœæ‚¨æ˜¯ä½¿ç”¨ "),a("code",[t._v("Hardhat")]),t._v(" åœ¨ zkSync ä¸Šè¿›è¡Œæ–°å¼€å‘ï¼Œè¯·æŸ¥çœ‹"),a("RouterLink",{attrs:{to:"/api/hardhat/getting-started.html"}},[t._v("å…¥é—¨éƒ¨åˆ†")]),t._v("ã€‚")],1),t._v(" "),a("h2",{attrs:{id:"å®‰è£…æµ‹è¯•ç¯å¢ƒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…æµ‹è¯•ç¯å¢ƒ"}},[t._v("#")]),t._v(" å®‰è£…æµ‹è¯•ç¯å¢ƒ")]),t._v(" "),a("p",[t._v("ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¸‹è½½ dockerized é¡¹ç›®ï¼š")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git clone https://github.com/matter-labs/local-setup.git\n")])])]),a("h2",{attrs:{id:"å¯åŠ¨æœ¬åœ°èŠ‚ç‚¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¯åŠ¨æœ¬åœ°èŠ‚ç‚¹"}},[t._v("#")]),t._v(" å¯åŠ¨æœ¬åœ°èŠ‚ç‚¹")]),t._v(" "),a("p",[t._v("è¦åœ¨æœ¬åœ°è¿è¡Œ zkSyncï¼Œè¯·è¿è¡Œ "),a("code",[t._v("start.sh")]),t._v(" è„šæœ¬ï¼š")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("cd local-setup\n./start.sh\n")])])]),a("p",[t._v("æ­¤å‘½ä»¤å°†å¯åŠ¨ä¸‰ä¸ª docker å®¹å™¨ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("Postgresï¼ˆç”¨ä½œ zkSync çš„æ•°æ®åº“ï¼‰ã€‚")]),t._v(" "),a("li",[t._v("æœ¬åœ° Geth èŠ‚ç‚¹ï¼ˆç”¨ä½œ zkSync çš„ L1ï¼‰ã€‚")]),t._v(" "),a("li",[t._v("zkSync èŠ‚ç‚¹æœ¬èº«ã€‚")])]),t._v(" "),a("p",[t._v("é»˜è®¤æƒ…å†µä¸‹ï¼ŒHTTP JSON-RPC API å°†åœ¨ç«¯å£ "),a("code",[t._v("3050")]),t._v("ä¸Šè¿è¡Œï¼Œè€Œ WS API å°†åœ¨ç«¯å£"),a("code",[t._v("3051")]),t._v("ä¸Šè¿è¡Œã€‚")]),t._v(" "),a("p",[t._v("è¯·æ³¨æ„ï¼Œç¬¬ä¸€ä¸ª"),a("code",[t._v("start.sh")]),t._v("è„šæœ¬è°ƒç”¨ä¸é—´æ–­å¾ˆé‡è¦ã€‚ å¦‚æœæ‚¨åœ¨å¼•å¯¼è¿‡ç¨‹æ„å¤–åœæ­¢åé‡åˆ°ä»»ä½•é—®é¢˜ï¼Œæ‚¨åº”è¯¥"),a("a",{attrs:{href:"#resetting-the-zksync-state"}},[t._v("é‡ç½®")]),t._v(" æœ¬åœ° zkSync çŠ¶æ€å¹¶é‡è¯•ã€‚")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("h2",{attrs:{id:"é‡ç½®-zksync-çŠ¶æ€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é‡ç½®-zksync-çŠ¶æ€"}},[t._v("#")]),t._v(" é‡ç½® zkSync çŠ¶æ€")]),t._v(" "),a("p",[t._v("è¦é‡ç½® zkSync çŠ¶æ€ï¼Œ è¯·è¿è¡Œ"),a("code",[t._v("./clear.sh")]),t._v(" è„šæœ¬:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("./clear.sh\n")])])]),a("p",[t._v('è¯·æ³¨æ„ï¼Œæ‚¨åœ¨è¿è¡Œæ­¤å‘½ä»¤æ—¶å¯èƒ½ä¼šæ”¶åˆ°"æƒé™è¢«æ‹’ç»Â " çš„é”™è¯¯æç¤ºã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨åº”è¯¥ä»¥ root æƒé™è¿è¡Œå®ƒï¼š')]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("sudo ./clear.sh\n")])])]),a("h2",{attrs:{id:"å¯Œæœ‰çš„é’±åŒ…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¯Œæœ‰çš„é’±åŒ…"}},[t._v("#")]),t._v(" å¯Œæœ‰çš„é’±åŒ…")]),t._v(" "),a("p",[t._v("æœ¬åœ° zkSync è®¾ç½®å¸¦æœ‰ä¸€äº› â€œå¯Œæœ‰â€œçš„é’±åŒ…ï¼Œåœ¨ L1 å’Œ L2 ä¸Šéƒ½æœ‰å¤§é‡çš„ ETHã€‚")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/matter-labs/local-setup/blob/main/rich-wallets.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ­¤å¤„"),a("OutboundLink")],1),t._v(" å¯ä»¥æ‰¾åˆ°å…·æœ‰ç›¸åº”ç§é’¥çš„è¿™äº›å¸æˆ·åœ°å€çš„å®Œæ•´åˆ—è¡¨")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("å¯Œæœ‰çš„é’±åŒ…åªæœ‰ETHï¼Œ**å¦‚æœä½ éœ€è¦ç”¨ ERC20ä»£å¸ è¿›è¡Œæµ‹è¯•ï¼Œä½ åº”è¯¥è‡ªå·±éƒ¨ç½²**ã€‚")]),t._v(" "),a("p",[t._v("å¦‚æœä½ å¸Œæœ›æœ¬åœ°èŠ‚ç‚¹å†æ¬¡é™„å¸¦é¢„éƒ¨ç½²çš„ä»£å¸ï¼Œè¯·åœ¨æˆ‘ä»¬çš„"),a("a",{attrs:{href:"https://discord.gg/px2aR7w",target:"_blank",rel:"noopener noreferrer"}},[t._v("discord"),a("OutboundLink")],1),t._v("ä¸Šå‘Šè¯‰æˆ‘ä»¬ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç›¸åº”åœ°å®‰æ’ä¼˜å…ˆçº§ã€‚")])])]),t._v(" "),a("h2",{attrs:{id:"ä½¿ç”¨è‡ªå®šä¹‰æ•°æ®åº“æˆ–ä»¥å¤ªåŠèŠ‚ç‚¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨è‡ªå®šä¹‰æ•°æ®åº“æˆ–ä»¥å¤ªåŠèŠ‚ç‚¹"}},[t._v("#")]),t._v(" ä½¿ç”¨è‡ªå®šä¹‰æ•°æ®åº“æˆ–ä»¥å¤ªåŠèŠ‚ç‚¹")]),t._v(" "),a("p",[t._v("è¦ä½¿ç”¨è‡ªå®šä¹‰çš„ Postgres æ•°æ®åº“æˆ–ç¬¬1å±‚èŠ‚ç‚¹ï¼Œä½ åº”è¯¥æ”¹å˜ docker-compose æ–‡ä»¶ä¸­çš„ç¯å¢ƒå‚æ•°ï¼š")]),t._v(" "),a("div",{staticClass:"language-yml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("environment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" DATABASE_URL=postgres"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//postgres@postgres/zksync_local\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ETH_CLIENT_WEB3_URL=http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//geth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8545")]),t._v("\n")])])]),a("ul",[a("li",[a("code",[t._v("DATABASE_URL")]),t._v(" æ˜¯æŒ‡å‘Postgresæ•°æ®åº“çš„URLã€‚")]),t._v(" "),a("li",[a("code",[t._v("ETH_CLIENT_WEB3_URL")]),t._v(" æ˜¯ L1 èŠ‚ç‚¹çš„ HTTP JSON-RPC æ¥å£çš„ URLã€‚")])]),t._v(" "),a("h2",{attrs:{id:"ä½¿ç”¨-mocha-chaiè¿›è¡Œæµ‹è¯•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨-mocha-chaiè¿›è¡Œæµ‹è¯•"}},[t._v("#")]),t._v(" ä½¿ç”¨ "),a("code",[t._v("mocha")]),t._v(" + "),a("code",[t._v("chai")]),t._v("è¿›è¡Œæµ‹è¯•")]),t._v(" "),a("p",[t._v("ç”±äºåœ¨ "),a("code",[t._v("hardhat.config.ts")]),t._v(" ä¸­æä¾›äº† zkSync èŠ‚ç‚¹ URLï¼Œå› æ­¤ä½¿ç”¨ä¸åŒ URL è¿›è¡Œéƒ¨ç½²å’Œæœ¬åœ°æµ‹è¯•çš„æœ€ä½³æ–¹å¼æ˜¯ä½¿ç”¨ç¯å¢ƒå˜é‡ã€‚ æ ‡å‡†æ–¹æ³•æ˜¯åœ¨è°ƒç”¨æµ‹è¯•ä¹‹å‰è®¾ç½® "),a("code",[t._v("NODE_ENV=test")]),t._v(" ç¯å¢ƒå˜é‡ã€‚")]),t._v(" "),a("h3",{attrs:{id:"é¡¹ç›®è®¾ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é¡¹ç›®è®¾ç½®"}},[t._v("#")]),t._v(" é¡¹ç›®è®¾ç½®")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("æŒ‰ç…§ "),a("RouterLink",{attrs:{to:"/api/hardhat/getting-started.html"}},[t._v("å…¥é—¨æŒ‡å—")]),t._v(" ä½œä¸ºå‚è€ƒï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„Hardhaté¡¹ç›®ã€‚")],1)]),t._v(" "),a("li",[a("p",[t._v("è¦å®‰è£…æµ‹è¯•åº“ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š")])])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("yarn add -D mocha chai @types/mocha @types/chai\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("å°†ä¸€ä¸‹å†…å®¹æ·»åŠ åˆ°æ‚¨çš„æ ¹ç›®å½•ä¸‹ "),a("code",[t._v("package.json")]),t._v("ä¸­ï¼š")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"test"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"NODE_ENV=test hardhat test"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("è¿™å°†åœ¨ "),a("code",[t._v("Hardhat")]),t._v(" ç¯å¢ƒä¸­å¯åŠ¨è¿è¡Œæµ‹è¯•ï¼Œå¹¶å°†"),a("code",[t._v("NODE_ENV")]),t._v("ç¯å¢ƒå˜é‡è®¾ç½®ä¸º"),a("code",[t._v("test")])]),t._v(" "),a("h3",{attrs:{id:"é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é…ç½®"}},[t._v("#")]),t._v(" é…ç½®")]),t._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[t._v("ä¿®æ”¹ "),a("code",[t._v("hardhat.config.ts")]),t._v(" ï¼Œä»¥ä½¿ç”¨æœ¬åœ°èŠ‚ç‚¹è¿›è¡Œæµ‹è¯•:")])]),t._v(" "),a("div",{staticClass:"language-typescript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-typescript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@matterlabs/hardhat-zksync-deploy"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@matterlabs/hardhat-zksync-solc"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// changes endpoint depending on environment variable")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" zkSyncDeploy "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n  process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NODE_ENV")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        zkSyncNetwork"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:3050"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        ethNetwork"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8545"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        zkSyncNetwork"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://zksync2-testnet.zksync.dev"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        ethNetwork"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"goerli"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  zksolc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    version"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.2.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    compilerSource"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"binary"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    settings"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      experimental"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        dockerImage"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"matterlabs/zksolc"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        tag"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"v1.2.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// load endpoints")]),t._v("\n  zkSyncDeploy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  solidity"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    version"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0.8.11"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  networks"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    hardhat"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      zksync"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("åˆ›å»ºä¸€ä¸ª "),a("code",[t._v("test")]),t._v(" æ–‡ä»¶å¤¹ï¼Œæµ‹è¯•å°†ä¿å­˜åœ¨å…¶ä¸­ã€‚")]),t._v(" "),a("h3",{attrs:{id:"ç¼–å†™æµ‹è¯•æ–‡ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¼–å†™æµ‹è¯•æ–‡ä»¶"}},[t._v("#")]),t._v(" ç¼–å†™æµ‹è¯•æ–‡ä»¶")]),t._v(" "),a("ol",{attrs:{start:"5"}},[a("li",[t._v("ç°åœ¨ä½ å¯ä»¥ç¼–å†™ä½ çš„ç¬¬ä¸€ä¸ªæµ‹è¯•äº†ï¼ ä½¿ç”¨ä»¥ä¸‹ä»£ç åˆ›å»ºä¸€ä¸ª "),a("code",[t._v("test/main.test.ts")]),t._v(" æ–‡ä»¶ï¼š")])]),t._v(" "),a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" expect "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"chai"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Wallet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Provider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Contract "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zksync-web3"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" hre "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hardhat"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Deployer "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@matterlabs/hardhat-zksync-deploy"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("RICH_WALLET_PK")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x7726827caac94a7f9e1b160f7ea819f172f7b6f9d2a97f992c38edeab82d4110"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("deployGreeter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("deployer"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Deployer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Promise")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Contract"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" artifact "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" deployer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadArtifact")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Greeter"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" deployer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("deploy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("artifact"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hi"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("describe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Greeter"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("it")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Should return the new greeting once it\'s changed"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" provider "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Provider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getDefaultProvider")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" wallet "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Wallet")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("RICH_WALLET_PK")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" provider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" deployer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Deployer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("hre"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" wallet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" greeter "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("deployGreeter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("deployer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("expect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" greeter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("greet")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("eq")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hi"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" setGreetingTx "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" greeter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setGreeting")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hola, mundo!"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// wait until the transaction is mined")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" setGreetingTx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wait")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("expect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" greeter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("greet")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("equal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hola, mundo!"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("æ­¤è„šæœ¬éƒ¨ç½²åœ¨ "),a("RouterLink",{attrs:{to:"/api/hardhat/getting-started.html#write-and-deploy-a-contract"}},[t._v("å…¥é—¨æŒ‡å—")]),t._v(" ä¸­åˆ›å»ºçš„ "),a("code",[t._v("Greeter")]),t._v(" åˆçº¦ï¼Œå¹¶æµ‹è¯•å®ƒåœ¨è°ƒç”¨ "),a("code",[t._v("greet")]),t._v("() æ—¶è¿”å›æ­£ç¡®çš„æ¶ˆæ¯æ–¹æ³•ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨ "),a("code",[t._v("setGreeting")]),t._v("()æ–¹æ³•æ›´æ–°æ¶ˆæ¯ã€‚")],1),t._v(" "),a("p",[t._v("æ‚¨ç°åœ¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿è¡Œæµ‹è¯•æ–‡ä»¶ï¼š")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("yarn test\n")])])]),a("p",[a("strong",[t._v("æ­å–œï¼ æ‚¨å·²ç»ä½¿ç”¨ zkSync åœ¨æœ¬åœ°è¿è¡Œäº†ä½ çš„ç¬¬ä¸€ä¸ªæµ‹è¯• ğŸ‰")])]),t._v(" "),a("h2",{attrs:{id:"å®Œæ•´çš„ç¤ºä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®Œæ•´çš„ç¤ºä¾‹"}},[t._v("#")]),t._v(" å®Œæ•´çš„ç¤ºä¾‹")]),t._v(" "),a("p",[t._v("å®Œæ•´çš„ç¤ºä¾‹å’Œæµ‹è¯•å¯ä»¥åœ¨"),a("a",{attrs:{href:"https://github.com/matter-labs/tutorial-examples/tree/main/local-setup-testing",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¿™é‡Œ"),a("OutboundLink")],1),t._v("æ‰¾åˆ° ã€‚")])])}),[],!1,null,null,null);s.default=e.exports}}]);